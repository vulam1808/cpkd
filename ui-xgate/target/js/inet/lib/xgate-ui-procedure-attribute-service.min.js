$(function(){iNet.ns("iNet.ui.admin","iNet.ui.admin.ProcedureAttribute");iNet.ui.admin.ProcedureAttribute=function(){this.id="procedure-attribute-widget";var e=this,d={procedure:iNet.resources.xgate.admin.procedure,global:iNet.resources.global,errors:iNet.resources.errors,constant:iNet.resources.constant,validate:iNet.resources.validate},f={view:iNet.getUrl("onegate/prodattr"),update:iNet.getUrl("onegate/prodattr/update")},h={BACK:$("#procedure-attribute-btn-back")};d=new DataSource({columns:[{property:"code",
label:d.procedure.attrCode,sortable:true,disabled:true},{property:"name",label:d.procedure.attrName,sortable:true,type:"text"}],delay:250});var a=new iNet.ui.grid.Grid({id:"procedure-attribute-grid",url:f.view,params:{procedure:""},dataSource:d,stretchHeight:false,editable:true,firstLoad:false,idProperty:"id"});a.on("click",function(){});a.on("loaded",function(){});a.on("blur",function(b,c){b=="update"?a.endEdit():c.save()});a.on("update",function(b){var c=a.getParams()||{};c.attribute=b.code;c.name=
b.name;$.postJSON(f.update,c,function(i){var g=i||{};if(!iNet.isEmpty(g.uuid)){a.update(g);a.commit()}},{mask:e.getMask(),msg:iNet.resources.ajaxLoading.processing})});this.setProcedure=function(b){a.setParams({procedure:b||""});a.load()};h.BACK.on("click",function(){e.fireEvent("back")}.createDelegate(this));iNet.ui.admin.ProcedureAttribute.superclass.constructor.call(this)};iNet.extend(iNet.ui.admin.ProcedureAttribute,iNet.ui.app.widget)});