(function(d){var i=function(a,b){this.init("tooltip",a,b)};i.prototype={constructor:i,init:function(a,b,c){var e;this.type=a;this.$element=d(b);this.options=this.getOptions(c);this.enabled=true;b=this.options.trigger.split(" ");for(c=b.length;c--;){e=b[c];if(e=="click")this.$element.on("click."+this.type,this.options.selector,d.proxy(this.toggle,this));else if(e!="manual"){a=e=="hover"?"mouseenter":"focus";e=e=="hover"?"mouseleave":"blur";this.$element.on(a+"."+this.type,this.options.selector,d.proxy(this.enter,
this));this.$element.on(e+"."+this.type,this.options.selector,d.proxy(this.leave,this))}}this.options.selector?this._options=d.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(a){a=d.extend({},d.fn[this.type].defaults,this.$element.data(),a);if(a.delay&&typeof a.delay=="number")a.delay={show:a.delay,hide:a.delay};return a},enter:function(a){var b=d.fn[this.type].defaults,c={},e;this._options&&d.each(this._options,function(f,g){if(b[f]!=g)c[f]=g},this);e=
d(a.currentTarget)[this.type](c).data(this.type);if(!e.options.delay||!e.options.delay.show)return e.show();clearTimeout(this.timeout);e.hoverState="in";this.timeout=setTimeout(function(){e.hoverState=="in"&&e.show()},e.options.delay.show)},leave:function(a){var b=d(a.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!b.options.delay||!b.options.delay.hide)return b.hide();b.hoverState="out";this.timeout=setTimeout(function(){b.hoverState=="out"&&
b.hide()},b.options.delay.hide)},show:function(){var a,b,c,e,f;b=d.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(b);if(!b.isDefaultPrevented()){a=this.tip();this.setContent();this.options.animation&&a.addClass("fade");e=typeof this.options.placement=="function"?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement;a.detach().css({top:0,left:0,display:"block"});this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element);
b=this.getPosition();c=a[0].offsetWidth;a=a[0].offsetHeight;switch(e){case "bottom":f={top:b.top+b.height,left:b.left+b.width/2-c/2};break;case "top":f={top:b.top-a,left:b.left+b.width/2-c/2};break;case "left":f={top:b.top+b.height/2-a/2,left:b.left-c};break;case "right":f={top:b.top+b.height/2-a/2,left:b.left+b.width}}this.applyPlacement(f,e);this.$element.trigger("shown")}}},applyPlacement:function(a,b){var c=this.tip(),e=c[0].offsetWidth,f=c[0].offsetHeight,g,h,j;c.offset(a).addClass(b).addClass("in");
g=c[0].offsetWidth;h=c[0].offsetHeight;if(b=="top"&&h!=f){a.top=a.top+f-h;j=true}if(b=="bottom"||b=="top"){f=0;if(a.left<0){f=a.left*-2;a.left=0;c.offset(a);g=c[0].offsetWidth}this.replaceArrow(f-e+g,g,"left")}else this.replaceArrow(h-f,h,"top");j&&c.offset(a)},replaceArrow:function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")},hide:function(){function a(){var e=
setTimeout(function(){b.off(d.support.transition.end).detach()},500);b.one(d.support.transition.end,function(){clearTimeout(e);b.detach()})}var b=this.tip(),c=d.Event("hide");this.$element.trigger(c);if(!c.isDefaultPrevented()){b.removeClass("in");d.support.transition&&this.$tip.hasClass("fade")?a():b.detach();this.$element.trigger("hidden");return this}},fixTitle:function(){var a=this.$element;if(a.attr("title")||typeof a.attr("data-original-title")!="string")a.attr("data-original-title",a.attr("title")||
"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var a=this.$element[0];return d.extend({},typeof a.getBoundingClientRect=="function"?a.getBoundingClientRect():{width:a.offsetWidth,height:a.offsetHeight},this.$element.offset())},getTitle:function(){var a=this.$element,b=this.options;return a.attr("data-original-title")||(typeof b.title=="function"?b.title.call(a[0]):b.title)},tip:function(){return this.$tip=this.$tip||d(this.options.template)},arrow:function(){return this.$arrow=
this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){if(!this.$element[0].parentNode){this.hide();this.options=this.$element=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(a){a=a?d(a.currentTarget)[this.type](this._options).data(this.type):this;a.tip().hasClass("in")?a.hide():a.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var k=d.fn.tooltip;
d.fn.tooltip=function(a){return this.each(function(){var b=d(this),c=b.data("tooltip"),e=typeof a=="object"&&a;c||b.data("tooltip",c=new i(this,e));typeof a=="string"&&c[a]()})};d.fn.tooltip.Constructor=i;d.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};d.fn.tooltip.noConflict=function(){d.fn.tooltip=k;return this}})(window.jQuery);