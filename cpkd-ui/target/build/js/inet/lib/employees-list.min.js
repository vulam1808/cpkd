$(function(){iNet.ns("iNet.ui","iNet.ui.helloworld");iNet.ui.helloworld.EmployeesListWidget=function(b){var d=b||{};iNet.apply(this,d);this.id=this.id||"employees-widget";iNet.ui.helloworld.EmployeesListWidget.superclass.constructor.call(this);var e=this;b=new iNet.ui.grid.DataSource({columns:[{type:"selection",align:"center",width:30},{property:"order",label:"Order",type:"rownumber",align:"center",width:100},{property:"name",label:"Name",sortable:true,type:"text",validate:function(a){if(iNet.isEmpty(a))return"Name must not be empty"}},
{property:"fullname",label:"Full Name",sortable:true,type:"text",validate:function(a){if(iNet.isEmpty(a))return"FullName must not be empty"}},{property:"email",label:"Email",sortable:true,type:"text",validate:function(a){if(iNet.isEmpty(a))return"FullName must not be empty";if(!iNet.isEmail(a))return"Email invalid"}},{label:"",type:"action",separate:"&nbsp;",align:"center",cls:"hidden-767",buttons:[{text:"Edit",icon:"icon-pencil",labelCls:"label label-info",fn:function(a){console.log(a);e.getGrid().edit(a[e.getGrid().getIdProperty()])}},
{text:"Delete",icon:"icon-trash",labelCls:"label label-important",fn:function(a){e.getGrid().remove(a[e.getGrid().getIdProperty()])}}]}]});this.grid=new iNet.ui.grid.Grid({id:"employees-grid",dataSource:b,url:"",firstLoad:false,idProperty:"uuid",pageSize:10,data:this.generateData(100)});this.grid.on("save",function(a){var c=a||{};console.log("saved>>",c);this.getGrid().insert(c);this.getGrid().newRecord()}.createDelegate(this));this.grid.on("update",function(a){var c=a||{};console.log("updated>>",
c);this.getGrid().update(c);this.getGrid().commit()}.createDelegate(this));this.grid.on("selectionchange",function(a,c){console.log("selectionchange>>",a,c)});$("#employees-btn-add").on("click",function(){this.grid.newRecord()}.createDelegate(this));$("#employees-btn-add-office").on("click",function(){this.fireEvent("addoffice",this)}.createDelegate(this));$("#employees-btn-add-dialog").on("click",function(){this.fireEvent("adddialog",this)}.createDelegate(this))};iNet.extend(iNet.ui.helloworld.EmployeesListWidget,
iNet.ui.Widget,{getGrid:function(){return this.grid},random:function(b){var d=b||[];return d[Math.floor(Math.random()*d.length)]},generateData:function(b){b=b||100;for(var d=[],e=["Apple","Google","Microsoft","Amazon","iNet Solutions","Samsung","Sony","Nokia","HTC"],a=["Java","jQuery","Python","MongoDB","Css","Html5","NodeJs","MySql","Extjs","C++"],c=["iDesk","MacBook","Ipad","Galaxy","Gmail","iMail","Window","iPhone","Lumina"],f=0;f<b;f++)d.push({uuid:iNet.generateId(),name:this.random(a),fullname:this.random(c),
email:(this.random(a)+"@"+this.random(e)+".com").toLowerCase()});return d}})});