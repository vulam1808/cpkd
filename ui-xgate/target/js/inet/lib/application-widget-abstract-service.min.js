$(function(){iNet.ns("iNet.ui.app");iNet.isEmpty(iNet.fnGetUrl)&&iNet.apply(iNet,{fnGetUrl:iNet.getUrl,getPath:function(a){return this.fnGetUrl(a)},getUrl:function(a,b){if(a=="system/account/role")if((iNet.firmPrefix||"smartcloud")!="smartcloud")a="subfirm/account/list";return iNet.isEmpty(b)?iNet.getPUrl(a):iNet.getPath(a)}});iNet.ui.app.widget=function(a){var b=a||{};iNet.apply(this,b);this.dialog=this.notify=null;iNet.ui.app.widget.superclass.constructor.call(this)};iNet.extend(iNet.ui.app.widget,
iNet.ui.Widget,{constructor:iNet.ui.app.widget,createNotify:function(){if(!this.notify)this.notify=new iNet.ui.form.Notify({id:iNet.generateId(),delay:3E3});return this.notify},showMessage:function(a,b,c){this.notify=this.createNotify();this.notify.setType(a||"error");this.notify.setTitle(b||"");this.notify.setContent(c||"");this.notify.show()},getNotifyContent:function(a,b){if(iNet.isEmpty(a))a="";if(iNet.isEmpty(b)){c=b||"";return String.format(a,c)}else if(iNet.isArray(b)){var c=[];try{b.forEach(function(d){if(iNet.isEmpty(d.message||
""))c.push("<br/>"+d);else{var e=iNet.resources.errors[d.message||""];if(iNet.isEmpty(e))e=d.message;c.push("<br/>"+e)}});return String.format(a,c)}catch(f){console.log(">> notifyContent >>",b);return""}}else{c=b||"";return String.format(a,c)}},notifyError:function(a,b){this.notify=this.createNotify();this.notify.setType("error");this.notify.setTitle(a);this.notify.setContent(b);this.notify.show()},notifySuccess:function(a,b){this.notify=this.createNotify();this.notify.setType("success");this.notify.setTitle(a);
this.notify.setContent(b);this.notify.show()},confirmDialog:function(a,b,c){var f=iNet.isFunction(c)?c.createDelegate(this):iNet.emptyFn;if(!this.dialog)this.dialog=new iNet.ui.dialog.ModalDialog({id:iNet.generateId(),title:a||"",content:b||"",buttons:[{text:iNet.resources.message.button.ok,cls:"btn-primary",icon:"icon-ok icon-white",fn:f},{text:iNet.resources.message.button.cancel,cls:"btn-default",icon:"icon-remove",fn:function(){this.hide()}}]});return this.dialog},hasPattern:function(){return!iNet.isEmpty(iNet.pattern)}})});