$(function(){iNet.ns("iNet.ui.itemview");iNet.ui.itemview=function(D){var g=D||{};this.id=g.id||"item-view-div";this.idInterface="item-view-interface";var d=this;iNet.ui.itemview.superclass.constructor.call(this);if(iNet.isEmpty($.getCmp(this.id).prop("id")))throw Error("Identity not found: Can't create control, please config id right when initialization!...");var k={hidden:function(){var c="";c+='<div class="hide"><input type="text" name="{0}" value="{1}"></div>';return c},comment:function(){var c=
"";c+='<div class="border">';c+='<a href="javascript:;">';c+='<img class="avatar" src="{0}?usercode={2}&thumbnail=48">';c+="</a>";c+='<div class="content-box">';c+='<div class="comment-header">';c+="<div>";c+='<strong><a href="javascript:;" class="author" title="{2}">{1}</a></strong>';c+="<span>{3}</span>";c+='<a href="" class="timestamp">';c+='<time datetime="{4}" is="relative-time" title="{4}">{4}</time>';c+="</a>";c+="</div>";c+="</div>";c+='<div class="comment-content">';c+="<span>{5}</span>";
c+="</div>";c+="</div>";c+="</div>";return c},attachment:function(c){var b="";if((c||0)==1){b+='<li file-id="{0}" file-name="{1}" title="{1}">';b+='<div class="file-box">';b+='<div class="file">';b+='<span class="corner"></span>';b+='<div class="icon" style="display: none;"><i class="{2}"></i></div>';b+='<div class="file-name">';b+='<div class="file-text"><i class="{2}"></i> {3}</div>';b+='<div class="file-size" file-size="{5}"><small>{4}</small></div>';b+='<div class="file-action" style="padding: 5px;display: flex;">';
b+='<a data-action="viewfile" title="'+d.resource.global.fileView+'" data-id="{6}" style="width: 50%;border: 1px solid #DDD;border-radius: 15px;float: left;text-align: center;margin-right: 2px;padding-top: 3px;padding-bottom: 3px;">';b+='<i class="ace-icon icon-eye-open"></i>';b+='<a data-action="downfile" title="'+d.resource.global.fileDownload+'" data-id="{6}" style="width: 50%;border: 1px solid #DDD;border-radius: 15px;float: right;text-align: center;margin-left: 2px;padding-top: 3px;padding-bottom: 3px;">';
b+='<i class="ace-icon icon-download-alt"></i>';b+="</a>";b+="</div>";b+="</div>";b+="</a>";b+="</div>";b+="</div>";b+="</li>"}if((c||0)==2){b+='<span data-info style="color: #0000ff;">';b+='<i class="{0}"></i> {1} - {2}';b+='<a data-action="downfile" title="'+d.resource.global.fileDownload+'" data-id="{3}" style="padding: 5px;margin-left:5px;border: 1px solid #DDD;border-radius: 15px;"><i class="icon-download-alt"></i></a>';b+='<a data-action="viewfile" title="'+d.resource.global.fileView+'" data-id="{3}" style="padding: 5px;margin-left:5px;border: 1px solid #DDD;border-radius: 15px;"><i class="icon-eye-open"></i></a>';
b+="</span>"}if((c||0)==3)b+='<a data-info style="padding: 5px;padding-right:10px;margin-left:5px;border: 1px solid #DDD;border-radius: 15px;" href="javascript:" onclick="{0}"> <i class="icon-trash"></i></a>';return b},external:function(c){var b="",i=c||0;if(i==1){b+='<div class="dd" style="max-width: 100%; padding-right: 10px;">';b+='<ol class="dd-list">';b+='<li class="dd-item dd2-item" data-id="15">';b+='<button onclick="externalClick(this);" data-action="collapse" data-css="dd-collapsed" type="button" style="display: block;">collapse</button>';
b+='<button onclick="externalClick(this);" data-action="expand" data-css="dd-collapsed" type="button" style="display: none;">expand</button>';b+='<div class="dd-handle dd2-handle" style="height: 100%;">';b+='<i class="normal-icon ace-icon fa fa-user blue bigger-130"></i>';b+='<i class="drag-icon ace-icon fa fa-arrows bigger-125"></i>';b+="</div>";b+='<div class="dd2-content">{0}</div>';b+="</li>";b+='<ol class="dd-list" style="">';b+="{1}";b+="</ol>";b+="</ol>";b+="</div>"}if(i==2){b+='<li class="dd-item dd2-item" data-id="16">';
b+='<div class="dd-handle dd2-handle" style="height: 100%;">';b+='<i class="normal-icon ace-icon fa {1} orange bigger-130"></i>';b+='<i class="drag-icon ace-icon fa fa-arrows bigger-125"></i>';b+="</div>";b+='<div class="dd2-content" style="display: flex;">';b+="<div>{0}</div>";b+='<div class="pull-right action-buttons" onclick="{3}">';b+='<a class="blue" href="#">';b+='<i class="ace-icon fa {2} bigger-130"></i>';b+="</a>";b+="</div>";b+="</div>";b+="</li>"}if(i==3){b+='<li class="dd-item dd2-item" data-id="16">';
b+='<div class="dd-handle dd2-handle" style="height: 100%;">';b+='<i class="normal-icon ace-icon fa fa-file orange bigger-130"></i>';b+='<i class="drag-icon ace-icon fa fa-arrows bigger-125"></i>';b+="</div>";b+='<div class="dd2-content" style="display: flex;">';b+="<div>{0}</div>";b+='<div style="margin-left: 8px;" class="pull-right action-buttons {2}">';b+='<a data-action="verifyfile" title="'+d.resource.global.fileVerify+'" data-id="{1}" class="orange" href="#">';b+='<i class="icon-key bigger-130"></i>';
b+="</a>";b+="</div>";b+='<div style="margin-left: 8px;" class="pull-right action-buttons {2}">';b+='<a data-action="signfile" title="'+d.resource.global.fileSign+'" data-id="{1}" class="red" href="#">';b+='<i class="icon-edit bigger-130"></i>';b+="</a>";b+="</div>";b+='<div style="margin-left: 8px;" class="pull-right action-buttons">';b+='<a data-action="viewfile" title="'+d.resource.global.fileView+'" data-id="{1}" class="green" href="#">';b+='<i class="ace-icon fa fa-eye bigger-130"></i>';b+="</a>";
b+="</div>";b+='<div style="margin-left: 8px;" class="pull-right action-buttons">';b+='<a data-action="downfile" title="'+d.resource.global.fileDownload+'" data-id="{1}" class="blue" href="#">';b+='<i class="ace-icon fa fa-download bigger-130"></i>';b+="</a>";b+="</div>";b+="</div>";b+="</li>"}return b}};D={downloadFile:iNet.getUrl("onegate/binary/download"),avatarUser:iNet.getUrl("system/userprofile/photo")};var G=$.getCmp(this.id),O=$.getCmp(this.idInterface);iNet.isEmpty(G.html().replace(/ /gi,
"").replace(/\n/gi,""))&&G.html("").append(O.html());this.resource=g.resource||{};this.url=iNet.apply(D,g.url||{});var u={PREV:$("#"+this.id+' [data-id="item-view-previous"]'),NEXT:$("#"+this.id+' [data-id="item-view-next"]'),MENU:$("#"+this.id+' [data-id="item-view-menu"]')},a={control:$("#"+this.id+' [data-id="item-view-control"]'),content:$("#"+this.id+' [data-id="item-view-content"]'),contentNoItem:$("#"+this.id+' [data-id="item-view-no-item"]'),contentDataItem:$("#"+this.id+' [data-id="item-view-data-item"]'),
header:$("#"+this.id+' [data-id="item-view-header-info"]'),toolbar:$("#"+this.id+' [data-id="item-view-header-toolbar"]'),subjectAttachmentIcon:$("#"+this.id+' [data-id="item-view-subject-attachment-icon"]'),subjectCommentIcon:$("#"+this.id+' [data-id="item-view-subject-comment-icon"]'),subjectDetailsIcon:$("#"+this.id+' [data-id="item-view-subject-details-icon"]'),subjectTitle:$("#"+this.id+' [data-id="item-view-subject-title"]'),subjectDetails:$("#"+this.id+' [data-id="item-view-subject-details"]'),
senderDetailsIcon:$("#"+this.id+' [data-id="item-view-sender-details-icon"]'),senderName:$("#"+this.id+' [data-id="item-view-sender-name"]'),senderDate:$("#"+this.id+' [data-id="item-view-sender-date"]'),senderDetails:$("#"+this.id+' [data-id="item-view-sender-details"]'),body:$("#"+this.id+' [data-id="item-view-body-info"]'),data:$("#"+this.id+' [data-id="item-view-data"]'),dataContent:$("#"+this.id+' [data-id="item-view-data-content"]'),dataContentHidden:$("#"+this.id+' [data-id="item-view-data-content-hidden"]'),
form:$("#"+this.id+' [data-id="item-view-form"]'),formContent:$("#"+this.id+' [data-id="item-view-form-content"]'),formContentHidden:$("#"+this.id+' [data-id="item-view-form-content-hidden"]'),submit:$("#"+this.id+' [data-id="item-view-submit"]'),submitContent:$("#"+this.id+' [data-id="item-view-submit-content"]'),submitContentHidden:$("#"+this.id+' [data-id="item-view-submit-content-hidden"]'),attachment:$("#"+this.id+' [data-id="item-view-attachment-info"]'),attachBrief:$("#"+this.id+' [data-id="item-view-attach-brief-view"]'),
attachBriefNumber:$("#"+this.id+' [data-id="item-view-attach-brief-number"]'),attachBriefDownloadAll:$("#"+this.id+' [data-id="item-view-attach-brief-download-all"]'),attachBriefViewAll:$("#"+this.id+' [data-id="item-view-attach-brief-view-image"]'),attachBriefList:$("#"+this.id+' [data-id="item-view-attach-brief-list"]'),attachAdditional:$("#"+this.id+' [data-id="item-view-attach-additional-view"]'),attachAdditionalNumber:$("#"+this.id+' [data-id="item-view-attach-additional-number"]'),attachAdditionalDownloadAll:$("#"+
this.id+' [data-id="item-view-attach-additional-download-all"]'),attachAdditionalViewAll:$("#"+this.id+' [data-id="item-view-attach-additional-view-image"]'),attachAdditionalList:$("#"+this.id+' [data-id="item-view-attach-additional-list"]'),attachIDesk:$("#"+this.id+' [data-id="item-view-attach-idesk-view"]'),attachIDeskNumber:$("#"+this.id+' [data-id="item-view-attach-idesk-number"]'),attachIDeskDownloadAll:$("#"+this.id+' [data-id="item-view-attach-idesk-download-all"]'),attachIDeskViewAll:$("#"+
this.id+' [data-id="item-view-attach-idesk-view-image"]'),attachIDeskList:$("#"+this.id+' [data-id="item-view-attach-idesk-list"]'),attachAgency:$("#"+this.id+' [data-id="item-view-attach-agency-view"]'),attachAgencyNumber:$("#"+this.id+' [data-id="item-view-attach-agency-number"]'),attachAgencyDownloadAll:$("#"+this.id+' [data-id="item-view-attach-agency-download-all"]'),attachAgencyViewAll:$("#"+this.id+' [data-id="item-view-attach-agency-view-image"]'),attachAgencyList:$("#"+this.id+' [data-id="item-view-attach-agency-list"]'),
comment:$("#"+this.id+' [data-id="item-view-comment-info"]'),commentNumber:$("#"+this.id+' [data-id="item-view-comment-number"]'),commentViewAll:$("#"+this.id+' [data-id="item-view-comment-view-all"]'),commentViewImage:$("#"+this.id+' [data-id="item-view-comment-view-image"]'),commentList:$("#"+this.id+' [data-id="item-view-comment-list"]')},H=g.headerDetails||{},E=H.subject||"";if(!iNet.isEmpty(E)&&iNet.isEmpty(a.subjectDetails.html().replace(/ /gi,"").replace(/\n/gi,""))){a.subjectDetails.html("").append($.getCmp(E).html());
$.getCmp(E).remove()}var F=H.sender||"";if(!iNet.isEmpty(F)&&iNet.isEmpty(a.senderDetails.html().replace(/ /gi,"").replace(/\n/gi,""))){a.senderDetails.html("").append($.getCmp(F).html());$.getCmp(F).remove()}if(iNet.isFunction(g.toolbar)){iNet.extend(g.toolbar,iNet.Component);d.toolbar=new g.toolbar;if(iNet.isEmpty(a.toolbar.html().replace(/ /gi,"").replace(/\n/gi,""))){a.toolbar.html("").append($.getCmp(d.toolbar.id).html());$.getCmp(d.toolbar.id).remove()}d.toolbar.intComponent(this)}if(iNet.isFunction(g.dataContent)){iNet.extend(g.dataContent,
iNet.Component);d.dataContent=new g.dataContent;if(iNet.isEmpty(a.dataContent.html().replace(/ /gi,"").replace(/\n/gi,""))){a.dataContent.html("").append($.getCmp(d.dataContent.id).html());$.getCmp(d.dataContent.id).remove()}d.dataContent.intComponent(this)}if(iNet.isFunction(g.formContent)){iNet.extend(g.formContent,iNet.Component);d.formContent=new g.formContent;if(iNet.isEmpty(a.formContent.html().replace(/ /gi,"").replace(/\n/gi,""))){a.formContent.html("").append($.getCmp(d.formContent.id).html());
$.getCmp(d.formContent.id).remove()}d.formContent.intComponent(this)}var I=function(c){if($("#"+(g.ajaxMaskId||"")).length>0)c=="show"?$("#"+(g.ajaxMaskId||"")).show():$("#"+(g.ajaxMaskId||"")).hide()},w=function(c){if(iNet.isEmpty(c)){a.toolbar.addClass("hide");a.body.addClass("hide");a.contentNoItem.removeClass("hide");a.contentDataItem.addClass("hide")}else{a.toolbar.removeClass("hide");a.body.removeClass("hide");a.contentNoItem.addClass("hide");a.contentDataItem.removeClass("hide")}d.resizeHeight()};
this.isDisplay=function(){return $("#"+d.id).hasClass("hide")};this.hide=function(){$("#"+d.id).addClass("hide")};this.show=function(){$("#"+d.id).removeClass("hide")};this.reset=function(){d.setHeader();w("");d.setFormContent();d.setDataContent();d.resetBodyHidden();d.setFooter();d.setData();d.resizeHeight()};this.resizeHeight=function(){try{iNet.getLayout().$iframe.height($(iNet.getLayout().window).height()-90)}catch(c){}a.content.height($(window).height()-45)};this.setMenuButton=function(c){c==
"full"||c==true?u.MENU.show():u.MENU.hide()};this.setType=function(c){a.control.removeClass("full").addClass(c);d.setMenuButton(c)};this.getData=function(){return d.selfData||{}};this.setData=function(c){d.selfData=c||{}};this.setHeader=function(c){var b=c||{},i=b.subject||{};a.subjectTitle.text(i.subject||"");i.showAttachmentIcon?a.subjectAttachmentIcon.removeClass("hide"):a.subjectAttachmentIcon.addClass("hide");i.showCommentIcon?a.subjectCommentIcon.removeClass("hide"):a.subjectCommentIcon.addClass("hide");
i.showDetailsIcon?a.subjectDetailsIcon.removeClass("hide"):a.subjectDetailsIcon.addClass("hide");var l=b.sender||{};a.senderName.text(l.name||"");a.senderDate.text(l.date||"");l.showDetailsIcon?a.senderDetailsIcon.removeClass("hide"):a.senderDetailsIcon.addClass("hide");a.header.addClass("hide");if(!iNet.isEmpty(i.subject)||!iNet.isEmpty(l.name)||!iNet.isEmpty(l.date))a.header.removeClass("hide");d.fireEvent("headerchange",c)};this.setFormContent=function(c){if(iNet.isEmpty(c)){a.form.addClass("hide");
a.formContent.addClass("hide")}else{a.form.removeClass("hide");a.formContent.removeClass("hide")}w(c)};this.setDataContent=function(c){if(iNet.isEmpty(c)){a.data.addClass("hide");a.dataContent.addClass("hide")}else{a.data.removeClass("hide");a.dataContent.removeClass("hide")}w(c)};this.setSubmitContent=function(c){a.submitContent.html(c||"");if(iNet.isEmpty(c)){a.submit.addClass("hide");a.submitContent.addClass("hide")}else{a.submit.removeClass("hide");a.submitContent.removeClass("hide");for(c=1;c<=
12;c++){a.submitContent.find(".col-md-"+c).removeClass("col-md-"+c);a.submitContent.find(".col-xs-"+c).removeClass("col-xs-"+c);a.submitContent.find(".col-sm-"+c).removeClass("col-sm-"+c)}a.submitContent.find(".row").removeClass("row");PublicService.PageScript(a.submitContent)}w("view")};this.addBodyHidden=function(c,b){a.formContentHidden.find('[name="'+c+'"]').parent().remove();a.formContentHidden.append(String.format(k.hidden(),c,b));a.dataContentHidden.find('[name="'+c+'"]').parent().remove();
a.dataContentHidden.append(String.format(k.hidden(),c,b));a.submitContentHidden.find('[name="'+c+'"]').parent().remove();a.submitContentHidden.append(String.format(k.hidden(),c,b))};this.resetBodyHidden=function(){a.formContentHidden.html("");a.dataContentHidden.html("");a.submitContentHidden.html("")};this.setFooter=function(c){var b=c||{},i=b.comments||[],l="";for(c=i.length-1;c>=0;c--){var h=i[c]||{};if(iNet.isEmpty(h.userName))h.userName=h.sender||"";if(iNet.isEmpty(h.userCode))h.userCode=h.senderCode||
"";if(iNet.isEmpty(h.noteTime))h.noteTime=h.created||0;l+=String.format(k.comment(),d.url.avatarUser,h.userName,h.userCode," ","("+$.timeago(h.noteTime)+")",h.note)}iNet.isEmpty(l)?a.comment.addClass("hide"):a.comment.removeClass("hide");a.commentViewImage.addClass("hide");a.commentList.html(l);a.commentList.hide();a.commentNumber.text(i.length||0);var o=b.docRecord||[],x=b.attBriefs||[],y="",J=0;x.length==0?a.submitContent.find('[data-control="File"]').each(function(q,e){if($(e).find("[property-value]").length>
0&&$(e).find('[type="file"]').length==0){var f=$(e).find('[rel="hardnote"][property-value]').attr("property-value")||"",n=$(e).find('[rel="name"][property-value]').attr("property-value")||"",p=false;$.each(o,function(r,t){if(t.fieldname==n){p=t.hardcopy;$(e).html('<i class="fa fa-file"></i> '+(f||(d.resource.constant||{}).hardcopy));return false}});p||$(e).html('<i class="icon-paper-clip"></i> '+(d.resource.constant||{}).not_attachment)}}):$.each(x,function(q,e){var f=a.submitContent.find('[data-control="File"]'),
n=f.find('[rel="name"][property-value="'+e.fieldname+'"]');f=f.find('input[type="file"][name="'+e.fieldname+'"]');var p=e.contentID||e.gridfsUUID||"",r=e.file||e.filename||"";if(n.length>0){n.parent().parent().parent().find(".data-content").addClass("hide");var t=String.format(k.attachment(2),iNet.FileFormat.getFileIcon(r),r,iNet.FileFormat.getSize(e.size||0),p);n.parent().parent().parent().append(t);n.parent().parent().parent().find("a[data-action]").each(function(z,m){$(m).on("click",function(){var j=
{};j.action=$(m).attr("data-action")||"";j.uuid=$(m).attr("data-id")||"";d.fireEvent("fileclick",j)})});f.length>0?n.parent().parent().parent().append(String.format(k.attachment(3),"$(this).parent().find('.data-content').show(); $(this).parent().find('[data-info]').hide();")):n.parent().remove()}else{J++;y+=String.format(k.attachment(1),p,e.fieldname,iNet.FileFormat.getFileIcon(e.mimetype),r,iNet.FileFormat.getSize(e.size||0),(e.size||0).toString(),p)}q==x.length-1&&a.submitContent.find('[data-control="File"]').each(function(z,
m){if($(m).find("[property-value]").length>0&&$(m).find('[type="file"]').length==0){var j=$(m).find('[rel="hardnote"][property-value]').attr("property-value")||"",v=$(m).find('[rel="name"][property-value]').attr("property-value")||"",s=false;$.each(o,function(Q,K){if(K.fieldname==v){s=K.hardcopy;$(m).html('<i class="fa fa-file"></i> '+(j||(d.resource.constant||{}).hardcopy));return false}});s||$(m).html('<i class="icon-paper-clip"></i> '+(d.resource.constant||{}).not_attachment)}})});a.submitContent.find('[data-control="File"] input[data-hardcopy]').attr("value",
false);a.submitContent.find('[data-control="File"] input[data-hardcopy]').attr("checked",false);$.each(o,function(q,e){var f=a.submitContent.find('[data-control="File"]').find('input[data-hardcopy][name="'+e.fieldname+'_hardcopy"]');console.log(">> document >>",e.fieldname,e.hardcopy);f.attr("value",e.hardcopy);f.prop("checked",e.hardcopy)});iNet.isEmpty(y)?a.attachBrief.addClass("hide"):a.attachBrief.removeClass("hide");a.attachBriefDownloadAll.addClass("hide");a.attachBriefViewAll.addClass("hide");
a.attachBriefList.html(y);a.attachBriefNumber.text(J);a.attachBriefList.find("a[data-action]").each(function(q,e){$(e).on("click",function(){var f={};f.action=$(e).attr("data-action")||"";f.uuid=$(e).attr("data-id")||"";d.fireEvent("fileclick",f)})});var P=b.attExternalData||[],A="",B="",C="",L=0,M=0,N=0;$.each(P,function(q,e){if(!iNet.isEmpty(e.signNumber||"")){L++;var f="";f=String.format(k.external(1),e.creator+" ("+(e.completed||0).longToDate("d/m/Y H:i")+")","{0}");var n="";n=String.format(k.external(2),
e.subject,"fa-book","fa-eye","");A+=String.format(f,n)}if(!iNet.isEmpty(e.description||"")){M++;var p=String.format(k.external(1),e.creator+" ("+(e.completed||0).longToDate("d/m/Y H:i")+")  - "+e.description,"{0}"),r="";$.each(e.attachments||[],function(m,j){var v=j.contentID||j.gridfsUUID||"",s=j.file||j.filename||"";r+=String.format(k.external(3),s,v,s.indexOf(".pdf")>0?"":"hide")});B+=String.format(p,r)}if(!iNet.isEmpty(e.actionType||"")){N++;var t=String.format(k.external(1),e.senderName+" ("+
(e.created||0).longToDate("d/m/Y H:i")+")  - "+e.organName,"{0}"),z="";$.each(e.attachments||[],function(m,j){var v=j.contentID||j.gridfsUUID||"",s=j.file||j.filename||"";z+=String.format(k.external(3),s,v)});C+=String.format(t,z)}});iNet.isEmpty(A)?a.attachIDesk.addClass("hide"):a.attachIDesk.removeClass("hide");a.attachIDeskDownloadAll.addClass("hide");a.attachIDeskViewAll.addClass("hide");a.attachIDeskList.html(A);a.attachIDeskNumber.text(L);iNet.isEmpty(B)?a.attachAdditional.addClass("hide"):
a.attachAdditional.removeClass("hide");a.attachAdditionalDownloadAll.addClass("hide");a.attachAdditionalViewAll.addClass("hide");a.attachAdditionalList.html(B);a.attachAdditionalNumber.text(M);a.attachAdditionalList.find("a[data-action]").each(function(q,e){$(e).on("click",function(){var f={};f.action=$(e).attr("data-action")||"";f.uuid=$(e).attr("data-id")||"";d.fireEvent("fileclick",f)})});iNet.isEmpty(C)?a.attachAgency.addClass("hide"):a.attachAgency.removeClass("hide");a.attachAgencyDownloadAll.addClass("hide");
a.attachAgencyViewAll.addClass("hide");a.attachAgencyList.html(C);a.attachAgencyNumber.text(N);a.attachAgencyList.find("a[data-action]").each(function(q,e){$(e).on("click",function(){var f={};f.action=$(e).attr("data-action")||"";f.uuid=$(e).attr("data-id")||"";d.fireEvent("fileclick",f)})});iNet.isEmpty(y)&&iNet.isEmpty(A)&&iNet.isEmpty(B)&&iNet.isEmpty(C)?a.attachment.addClass("hide"):a.attachment.removeClass("hide")};this.submit=function(c){var b=c||"",i=iNet.isEmpty(a.formContent.html())?"submit":
"form";if(iNet.isEmpty(b))d.fireEvent("submitted",{type:"error",errors:"URL is empty!."});else{I("show");var l={url:b,beforeSubmit:function(){},uploadProgress:function(){},success:function(){},complete:function(h){I("hide");var o=h.responseJSON||{},x=h.responseText||{};console.log(">> submitFormContent result >>",o);iNet.isEmpty(o.uuid)?d.fireEvent("submitted",{type:"error",errors:o.errors||[]}):d.fireEvent("submitted",{type:"success",data:o})}};i=="submit"?a.submit.ajaxSubmit(l):a.form.ajaxSubmit(l)}}.createDelegate(this);
a.subjectDetailsIcon.on("click",function(){if(a.subjectDetails.hasClass("hide")){a.subjectDetailsIcon.removeClass("icon-caret-right").addClass("icon-caret-down");a.subjectDetails.removeClass("hide")}else{a.subjectDetailsIcon.removeClass("icon-caret-down").addClass("icon-caret-right");a.subjectDetails.addClass("hide")}});a.subjectTitle.on("click",function(){a.subjectDetailsIcon.hasClass("hide")||a.subjectDetailsIcon.trigger("click")});a.senderDetailsIcon.on("click",function(){if(a.senderDetails.hasClass("hide")){a.senderDetailsIcon.removeClass("icon-caret-right").addClass("icon-caret-down");
a.senderDetails.removeClass("hide")}else{a.senderDetailsIcon.removeClass("icon-caret-down").addClass("icon-caret-right");a.senderDetails.addClass("hide")}});a.senderName.on("click",function(){a.senderDetailsIcon.hasClass("hide")||a.senderDetailsIcon.trigger("click")});a.senderDate.on("click",function(){a.senderDetailsIcon.hasClass("hide")||a.senderDetailsIcon.trigger("click")});a.commentViewAll.on("click",function(){a.commentList.show();d.fireEvent("viewcomment")}.createDelegate(this));u.PREV.on("click",
function(){}.createDelegate(this));u.NEXT.on("click",function(){}.createDelegate(this));u.MENU.on("click",function(){d.fireEvent("menuclick")}.createDelegate(this));$(iNet.getLayout()).on("resize",function(){d.resizeHeight()});d.reset()};iNet.extend(iNet.ui.itemview,iNet.Component)});