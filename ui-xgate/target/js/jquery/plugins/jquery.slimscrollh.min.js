(function(e){e.fn.extend({slimScrollH:function(i){var a=e.extend({width:"250px",height:"auto",size:"7px",color:"#000",position:"bottom",distance:"1px",start:"left",opacity:0.4,alwaysVisible:false,disableFadeOut:false,railVisible:false,railColor:"#333",railOpacity:0.2,railDraggable:true,railClass:"slimScrollRailH",barClass:"slimScrollBarH",wrapperClass:"slimScrollDiv",allowPageScroll:false,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},i);this.each(function(){function o(c){if(p){c=
c||window.event;var f=0;if(c.wheelDelta)f=-c.wheelDelta/120;if(c.detail)f=c.detail/3;if(c.wheelDeltaX||c.deltaX||c.axis==1){e(c.target||c.srcTarget||c.srcElement).closest("."+a.wrapperClass).is(b.parent())&&m(f,true);c.preventDefault&&!j&&c.preventDefault();if(!j)c.returnValue=false}}}function m(c,f,r){j=false;var h=c,z=b.outerWidth()-d.outerWidth();if(s){b.parent().find(".mask_left").css({display:d.position().left<=0?"none":"block"});b.parent().find(".mask_right").css({display:d.position().left>=
b.width()-d.width()?"none":"block"})}if(f){h=parseInt(d.css("left"))+c*parseInt(a.wheelStep)/100*d.outerWidth();h=Math.min(Math.max(h,0),z);h=c>0?Math.ceil(h):Math.floor(h);d.css({left:h+"px"})}k=parseInt(d.css("left"))/(b.outerWidth()-d.outerWidth());h=k*(b[0].scrollWidth-b.outerWidth());if(r){h=c;c=h/b[0].scrollWidth*b.outerWidth();c=Math.min(Math.max(c,0),z);d.css({left:c+"px"})}b.scrollLeft(h);b.trigger("slimscrolling",~~h);u();n()}function v(){q=Math.max(b.outerWidth()/b[0].scrollWidth*b.outerWidth(),
D);d.css({width:q+"px"});var c=q==b.outerWidth()?"none":"block";d.css({display:c})}function u(){v();clearTimeout(A);if(k==~~k){j=a.allowPageScroll;if(B!=k)b.trigger("slimscroll",~~k==0?"left":"right")}else j=false;B=k;if(q>=b.outerWidth())j=true;else{d.stop(true,true).fadeIn("fast");a.railVisible&&l.stop(true,true).fadeIn("fast")}}function n(){a.alwaysVisible||(A=setTimeout(function(){if(!(a.disableFadeOut&&p)&&!w&&!x){d.fadeOut("slow");l.fadeOut("slow")}},1E3))}var p,w,x,A,y,q,k,B,D=30,j=false,b=
e(this),s=b.width()>=a.width;if(b.parent().hasClass(a.wrapperClass)&&e.inArray(a.barClass,b.parent().children().map(function(c,f){return e(f).attr("class")}))>=0&&e.inArray(a.railClass,b.parent().children().map(function(c,f){return e(f).attr("class")}))>=0){var g=b.scrollLeft();d=b.parent().find("."+a.barClass);l=b.parent().find("."+a.railClass);v();if(e.isPlainObject(i)){if("width"in i)if(i.width=="auto"){b.parent().css("width","auto");b.css("width","auto");var C=b.parent().parent().width();b.parent().css("width",
C);b.css("width",C)}else{b.css("width",a.width);b.parent().css("width",a.width)}if("scrollTo"in i)g=parseInt(a.scrollTo);else if("scrollBy"in i)g+=parseInt(a.scrollBy);else if("destroy"in i){d.remove();l.remove();b.unwrap();return}m(g,false,true)}}else{a.width=a.width=="auto"?b.parent().width():a.width;a.height=a.height=="auto"?b.parent().height():a.height;g=b.parent();if(!b.parent().hasClass(a.wrapperClass)){g=e("<div></div>").addClass(a.wrapperClass).css({position:"relative",overflow:"hidden",width:a.width,
height:a.height});b.css({overflow:"hidden",width:a.width,height:a.height});b.wrap(g)}var l=e("<div></div>").addClass(a.railClass).css({width:"100%",height:a.size,position:"absolute",left:0,display:a.alwaysVisible&&a.railVisible?"block":"none","border-radius":a.railBorderRadius,background:a.railColor,opacity:a.railOpacity,zIndex:90}),d=e("<div></div>").addClass(a.barClass).css({background:a.color,height:a.size,position:"absolute",cursor:a.opacity?"move":"normal",left:0,opacity:a.opacity,display:a.alwaysVisible?
"block":"none","border-radius":a.borderRadius,BorderRadius:a.borderRadius,MozBorderRadius:a.borderRadius,WebkitBorderRadius:a.borderRadius,zIndex:99});g=a.position=="top"?{top:a.distance}:{bottom:a.distance};l.css(g);d.css(g);b.parent().append(d);b.parent().append(l);if(s&&a.mask_left_url){g=e("<div></div>").addClass("mask_left").css({width:"20px",height:"100%",position:"absolute",top:0,left:0,display:d.position().left<=0?"none":"block",backgroundImage:"url("+a.mask_left_url+")",backgroundRepeat:"y",
zIndex:85});b.parent().append(g)}if(s&&a.mask_right_url){g=e("<div></div>").addClass("mask_right").css({width:"20px",height:"100%",position:"absolute",bottom:0,right:0,display:d.position().left>=b.width()-d.width()?"none":"block",backgroundImage:"url("+a.mask_right_url+")",backgroundRepeat:"y",zIndex:85});b.parent().append(g)}a.railDraggable&&d.bind("mousedown",function(c){var f=e(document);x=true;t=parseFloat(d.css("left"));pageY=c.pageX;f.bind("mousemove.slimscroll",function(r){currLeft=t+r.pageX-
pageY;d.css("left",currLeft);m(0,d.position().left,false)});f.bind("mouseup.slimscroll",function(){x=false;n();f.unbind(".slimscroll")});return false}).bind("selectstart.slimscroll",function(c){c.stopPropagation();c.preventDefault();return false});l.hover(function(){u()},function(){n()});d.hover(function(){w=true},function(){w=false});b.hover(function(){p=true;u();n()},function(){p=false;n()});b.bind("touchstart",function(c){if(c.originalEvent.touches.length)y=c.originalEvent.touches[0].pageY});b.bind("touchmove",
function(c){j||c.originalEvent.preventDefault();if(c.originalEvent.touches.length){m((y-c.originalEvent.touches[0].pageY)/a.touchScrollStep,true);y=c.originalEvent.touches[0].pageY}});v();if(a.start==="right"){d.css({left:b.outerWidth()-d.outerWidth()});m(0,true)}else if(a.start!=="left"){m(e(a.start).position().left,null,true);a.alwaysVisible||d.hide()}(function(){if(window.addEventListener){this.addEventListener("DOMMouseScroll",o,false);this.addEventListener("mousewheel",o,false);this.addEventListener("MozMousePixelScroll",
o,false)}else document.attachEvent("onmousewheel",o)})()}});return this}});e.fn.extend({slimscrollH:e.fn.slimScrollH})})(jQuery);