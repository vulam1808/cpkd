CommonService={pageRequest:{xgate:"xgate/page/index",hashtag:{chart:"#receiver-chart",created:"#receiver-queue",inprocess:"#receiver-inprocess",completed:"#receiver-completed",rejected:"#receiver-rejected",published:"#receiver-published",additional:"#receiver-additional"},created:"xgate/page/receiver/queue",inprocess:"xgate/page/receiver/inprocess",rejected:"xgate/page/receiver/rejected",completed:"xgate/page/receiver/completed",published:"xgate/page/receiver/published",additional:"xgate/page/receiver/additional",
formNo01:"xgate/page/receiver/formNo01",formNo03:"xgate/page/receiver/formNo03",formNo04:"xgate/page/receiver/formNo04"},cleanUnicode:function(a){for(var b="",c=0;c<a.length;c++)if(a.charCodeAt(c)<=127)b+=a.charAt(c);return b},cleanSpecialChar:function(a){a=a||"";a=a.replace(/ /gi,"");a=a.replace(/-/gi,"");a=a.replace(/%/gi,"");a=a.replace(/$/gi,"");a=a.replace(/#/gi,"");a=a.replace(/@/gi,"");return a=a.replace(/!/gi,"")},isSuccess:function(a){var b=iNet.isEmpty(a.uuid)?"":a.uuid,c=iNet.isEmpty(a.intl)?
"":a.intl;if(!iNet.isEmpty(a)&&JSON.stringify(a)!="{}"&&!a.hasOwnProperty("errors")&&b!="ERROR!"&&iNet.isEmpty(c))return true;return false},getRequests:function(){var a=location.search.substring(1,location.search.length).split("&"),b={},c,g;for(g=0;g<a.length;g+=1){c=a[g].split("=");b[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return b},getArrayKey:function(a,b){var c=b||"id",g=[];$.each(a||[],function(d,f){g.push((f[c]||"").toString())});return g},getIndexOfArray:function(a,b,c){var g=c||
"id",d=(a||"").toString(),f=[];$.each(b||[],function(i,h){f.push((h[g]||"").toString())});var e=f.indexOf(d);return e},getCurrentDate:function(a){var b=a||"d/m/Y";return(new Date).format(b)},getFirstDate:function(a){var b=new Date,c=a||"d/m/Y";return(new Date(b.getFullYear(),b.getMonth(),1)).format(c)},syncProcedure:function(){$.postJSON(iNet.getUrl("onegate/firmprocedure/synch"),{},function(a){console.log("CommonService syncProcedure",{result:a})})},getTotalPage:function(a,b){var c=parseInt(parseInt(a/
b)+parseInt(a%b>0?1:0));if(isNaN(c))return 0;return c},getNumber:function(a,b){a=parseInt(a);if(isNaN(a))return b;return a},getPercentCurrentDate:function(a,b){var c=0,g=(new Date).getTime(),d=b-a,f=g-a;if(d>0&&f>0){c=f*100/d;c=this.getNumber(c,0)>=100?100:this.getNumber(c,0)<=0?0:c.toFixed(0)}return c}};
FormService={appendHiddenField:function(a,b,c){a.find('[name="'+b+'"]').remove();a.append(String.format('<div class="hide"><input type="text" name="{0}" value="{1}"></div>',b,c))},checkService:function(){return($.getJSON(iNet.getUrl("common/page/ping"),{},function(){}).done()||{}).status===200},checkPageExists:function(a){var b=new XMLHttpRequest;b.abort();b.open("HEAD",a,false);b.send();console.log("http status -----------\>",b.status);return b.status===200},disable:function(a){a!=null&&a.attr("disabled",
"disabled")},enable:function(a){a!=null&&a.removeAttr("disabled")},createSelect:function(a,b,c,g,d,f,e,i){var h=b||[],q=c||"id",r=g||1,w=iNet.isEmpty(d)?true:d,s=iNet.isEmpty(f)?false:f,x=iNet.isEmpty(e)?{}:e,y=iNet.isFunction(i)?i:"",k={};k.id=a;k.placeholder=ita.resources.common.select_value||"Select value";k.allowClear=w;k.multiple=s;k.data={results:h,text:function(j){return iNet.isEmpty(j.name)?"":j.name}};k.idValue=function(j){return j[q]};k.initSelection=function(j,o){var m=q,n=j.val().split(",")||
[],t=[],u="",v=s;if(!iNet.isEmpty(n))for(var p=0;p<n.length;p++)for(var l=0;l<h.length;l++)if(m=="id"?h[l][m].toString()==n[p].toString():h[l][m].toString()==n[p].toString()){h[l].name=iNet.isEmpty(h[l].name)?"":h[l].name;h[l].code=iNet.isEmpty(h[l].code)?"":h[l].code;if(v)t.push(h[l]);else u=h[l];break}v?o(t):o(u)};k.formatResult=function(j){var o=iNet.isEmpty(j.code)?"":j.code,m=iNet.isEmpty(j.name)?"":j.name;j=m;var n=String.format('<span style="color: #c09853; text-align: right; padding-right: 5px"><strong>{0}<strong></strong></strong></span> {1}',
o,m);return r==1?j:n};k.formatSelection=function(j){var o=iNet.isEmpty(j.code)?"":j.code,m=iNet.isEmpty(j.name)?"":j.name;j=m;var n=String.format('<label class="label label-info marg-b-0">{0}</label> {1}',o,m);return r==1?j:n};if(!iNet.isEmpty(e))k.ajax=x;if(!iNet.isEmpty(y))k.query=i;return new iNet.ui.form.select.Select(k)},createDate:function(a){a.mask("99/99/9999");var b=a.datepicker({format:"dd/mm/yyyy"}).on("changeDate",function(){b.hide()}).data("datepicker");a.next().on("click",function(){$(this).prev().focus()});
a.on("keydown",function(c){if(c.which==13||c.which==9)b.hide();if(c.which>=48&&c.which<=57||c.which==191||c.which==13||c.which==9){var g=$(this).val(),d=g.indexOf(".")>0?g.split(".")||[]:g.split("/")||[],f=(d.length>0?d[0]||"":"").replace(/_/gi,""),e=(d.length>1?d[1]||"":"").replace(/_/gi,""),i=(d.length>2?d[2]||"":"").replace(/_/gi,"");if(f.length==1)f="0"+f;if(e.length==1)e="0"+e;if(i.length==2)i="20"+i;if(e.length==2){if(Number(e)>12)e=12;if(Number(e)<1)e="01"}var h="31";if(!iNet.isEmpty(i))switch(e){case "01":case "03":case "05":case "07":case "08":case "10":case "12":h=
"31";break;case "04":case "06":case "09":case "11":h="30";break;case "02":!(Number(i)%400)?h="29":h="28"}if(f.length==2){if(Number(f)>Number(h))f=h;if(Number(f)<1)f="01"}f=iNet.isEmpty(f)?"":f+"/";e=iNet.isEmpty(e)?"":e+"/";i=iNet.isEmpty(i)?"":i;if(c.which==191||c.which==13||c.which==9)$(this).val(f+e+i)}});a.on("keyup",function(){});return b},validateDate:function(a,b){var c="d/m/Y";c=false;var g=c="d/m/Y";if(g.length>=5)g=g.substring(0,5);c=null;if(iNet.isEmpty(a))return false;try{var d=a.indexOf("/"),
f=a.split("/"),e=0,i=0,h=0;if(f.length==3){e=a.substring(0,d);d+=1;i=a.substring(d,a.indexOf("/",d));d=a.indexOf("/",d)+1;h=a.substring(d)}if(f.length==2){i=a.substring(0,d);if(i>12&&b){e=i;i="01"}else e="01";d+=1;h=a.substring(d)}if(f.length==1){h=a;e=i="01"}if(b){if(iNet.isEmpty(h))h=1;if(iNet.isEmpty(i))i=1;if(iNet.isEmpty(e))e=1}d=i+"/"+e+"/"+h;if(d.substring(d.length-1)=="/"&&!b)d="notDate";c=(new Date(Date.parse(d))).getTime()}catch(q){}return c=!isNaN(parseFloat(c))&&isFinite(c)},displayContent:function(a,
b){b=b||"";if(a.hasClass("hide"))b!="hide"&&a.removeClass("hide");else b!="show"&&a.addClass("hide")}};
iNet.FileFormat={NEXT_FORMAT:6,OO_WORD:0,OO_EXCEL:1,OO_POWERPOINT:2,OO_GRAPH:3,OO_MATH:4,OO_DATABASE:5,MS_WORD:6,MS_EXCEL:7,MS_POWERPOINT:8,MS_ACCESS:9,MS_PROJECT:10,MS_VISIO:11,DOC_TEXT:12,DOC_HTML:13,DOC_XML:14,DOC_PDF:15,DOC_IMG:16,DOC_INET:17,DOC_OTHER:18,MS_WORD_2007:19,MS_EXCEL_2007:20,MS_POWERPOINT_2007:21,FORMAT:["oo-word","oo-excel","oo-powerpoint","oo-graph","oo-math","oo-database","ms-word","ms-excel","ms-powerpoint","ms-access","ms-project","ms-visio","doc-text","doc-html","doc-xml","doc-pdf",
"doc-img","doc-inet","doc-other","ms-word7","ms-excel7","ms-powerpoint7"],EXT_FORMAT:["odt","ods","odp","odg","odf","odb","doc","xls","ppt","mdb","mpp","vsd","txt","html","xml","pdf","jpg","dtt","oth","docx","xlsx","pptx"],FORMAT_NAME:["Open Office Word","Open Office Excel","Open Office Powerpoint","Open Office Graph","Open Office Math","Open Office Database","Microsoft Word","Microsoft Excel","Microsoft Powerpoint","Microsoft Access","Microsoft Project","Microsoft Visio","Text Document","HTML Document",
"XML Document","PDF Document","Image Document","iNet Document","Others","Microsoft Word 2007","Microsoft Excel 2007","Microsoft PowerPoint 2007"],getExtension:function(a){if(a==undefined||a=="")return"";var b=a.lastIndexOf(".");if(b==-1)return"";return a.substr(b+1,a.length)},getFormat:function(a){for(var b=0;b<this.EXT_FORMAT.length;b++)if(a==this.EXT_FORMAT[b])return b;return this.DOC_OTHER},getIcon:function(a){return"file-icon xicon-"+a||"oth"},getFileIcon:function(a){a=iNet.FileFormat.getExtension(a);
return iNet.FileFormat.getIcon(a)},changeFormatToMSOffice:function(a){return a+this.NEXT_FORMAT},changeFormatToOO:function(a){return a-this.NEXT_FORMAT},getSize:function(a){var b=a||0,c=2;if(b<1024)return String.format("{0} B",b.toFixed(c));b/=1024;if(b<1024)return String.format("{0} KB",b.toFixed(c));b/=1024;if(b<1024)return String.format("{0} MB",b.toFixed(c));b/=1024;if(b<1024)return String.format("{0} GB",b.toFixed(c))}};
iNet.applyIf(String.prototype,{isDate:function(){if(!/^\d{2}\/\d{2}\/\d{4}$/.test(this))return false;var a=this.split("/"),b=parseInt(a[0],10),c=parseInt(a[1],10);a=parseInt(a[2],10);if(a<1E3||a>3E3||c==0||c>12)return false;var g=[31,28,31,30,31,30,31,31,30,31,30,31];if(a%400==0||a%100!=0&&a%4==0)g[1]=29;return b>0&&b<=g[c-1]},isNumeric:function(){return!isNaN(parseFloat(this))&&isFinite(this)},dateToLong:function(a){var b="d/m/Y";a=a||"dd/MM/yyyy";if(a=="dd/MM/yyyy")b="d/m/Y";if(a=="dd/MM/yyyy HH:mm:ss")b=
"d/m/Y H:i:s";if(a=="MM/dd/yyyy")b="m/d/Y";if(a=="MM/dd/yyyy HH:mm:ss")b="m/d/Y H:i:s";var c=b;if(c.length>=5)c=c.substring(0,5);a=null;if(iNet.isEmpty(this))return null;try{var g=this.substring(0,2),d=this.substring(3,5),f=this.substring(6,10);switch(c){case "m/d/Y":d=this.substring(0,2);g=this.substring(3,5)}a=(new Date(Date.parse(d+"/"+g+"/"+f))).getTime()}catch(e){return null}return!isNaN(parseFloat(a))&&isFinite(a)?a:null},endDateToLong:function(a){a=this.dateToLong(a);return a==null?null:a+
86399E3},longToDate:function(a){var b="d/m/Y";a=a||"dd/MM/yyyy";if(a=="dd/MM/yyyy")b="d/m/Y";if(a=="dd/MM/yyyy HH:mm:ss")b="d/m/Y H:i:s";if(a=="MM/dd/yyyy")b="m/d/Y";if(a=="MM/dd/yyyy HH:mm:ss")b="m/d/Y H:i:s";a="";if(!(!isNaN(parseFloat(this))&&isFinite(this)))return"";try{a=(new Date(parseFloat(this))).format(b)}catch(c){}return a},formatMoney:function(a,b,c){try{var g=this,d=isNaN(a=Math.abs(a))?2:a;a=b==undefined?".":b;c=c==undefined?",":c;b=g<0?"-":"";var f=parseInt(g=Math.abs(+g||0).toFixed(d))+
"",e=(e=f.length)>3?e%3:0;return b+(e?f.substr(0,e)+c:"")+f.substr(e).replace(/(\d{3})(?=\d)/g,"$1"+c)+(d?a+Math.abs(g-f).toFixed(d).slice(2):"")}catch(i){return this}}});
iNet.applyIf(Number.prototype,{formatMoney:function(a,b,c){try{var g=this,d=isNaN(a=Math.abs(a))?2:a;a=b==undefined?".":b;c=c==undefined?",":c;b=g<0?"-":"";var f=parseInt(g=Math.abs(+g||0).toFixed(d))+"",e=(e=f.length)>3?e%3:0;return b+(e?f.substr(0,e)+c:"")+f.substr(e).replace(/(\d{3})(?=\d)/g,"$1"+c)+(d?a+Math.abs(g-f).toFixed(d).slice(2):"")}catch(i){return this}},longToDate:function(a){var b="d/m/Y";a=a||"dd/MM/yyyy";if(a=="dd/MM/yyyy")b="d/m/Y";if(a=="dd/MM/yyyy HH:mm:ss")b="d/m/Y H:i:s";if(a==
"MM/dd/yyyy")b="m/d/Y";if(a=="MM/dd/yyyy HH:mm:ss")b="m/d/Y H:i:s";a="";if(!(!isNaN(parseFloat(this))&&isFinite(this)))return"";try{a=(new Date(parseFloat(this))).format(b)}catch(c){}return a}});